<!--
Downloaded via https://llm.codes by @steipete on October 20, 2025 at 04:28 PM
Source URL: https://developer.apple.com/documentation/cloudkitjs
Total pages processed: 167
URLs filtered: Yes
Content de-duplicated: Yes
Availability strings filtered: Yes
Code blocks only: No
-->

# https://developer.apple.com/documentation/cloudkitjs

Framework

# CloudKit JS

Provide access from your web app to your CloudKit app’s containers and databases.

CloudKit JS 1.0+

## Overview

Use CloudKit JS to build a web interface that lets users access the same public and private databases as your CloudKit app running on iOS or macOS. You must have an existing CloudKit app and enable web services to use CloudKit JS.

### Before You Begin

Set up your app’s containers and configure CloudKit JS.

1. Create your app’s containers and schema.

If you’re new to CloudKit, start by reading CloudKit Quick Start. You’ll use Xcode to create your app’s containers and use CloudKit Dashboard to view the containers. Then create an iOS or Mac app that uses CloudKit to store your app’s data.

2. In CloudKit Dashboard, enable web services by creating either an API token or server-to-server key.

Use an API Token from a website or an embedded web view in a native app, or when you need to authenticate the user. To create an API token, read Obtaining an API Token for an iCloud Container.

Use a server-to-server key to access the public database from a server process or script as an administrator. To create a server-to-server key, read Accessing CloudKit Using a Server-to-Server Key in CloudKit Web Services Reference. See CloudKit Catalog: An Introduction to CloudKit (Cocoa and JavaScript) for a JavaScript sample that uses a server-to-server key.

3. Embed CloudKit JS in your webpage.

Embed CloudKit JS in your webpage using the `script` tag and link to Apple’s hosted version of CloudKit JS at `https://cdn.apple-CloudKit.com/ck/2/CloudKit.js`.

4. Enable JavaScript strict mode.

To enable strict mode for an entire script, put “use strict” before any other statements.

"use strict";

5. Configure CloudKit JS.

Use the `CloudKit`. `configure` method to provide information about your app’s containers to CloudKit JS. Also, specify whether to use the development or production environment. See `CloudKit` for an example, and see CloudKit JS Data Types for details on the `CloudKit.CloudKitConfig` properties you can set.

Now you can use the `CloudKit`. `getDefaultContainer` method in your JavaScript code to get the app container ( `CloudKit.Container`) and its database objects ( `CloudKit.Database`).

### Next Steps

To learn CloudKit JS, download the CloudKit Catalog: An Introduction to CloudKit (Cocoa and JavaScript) sample code project and refer to the CloudKit JS class reference documents for API details. For the hosted version of this sample code project, which allows you to execute CloudKit JS code and see the CloudKit server responses, go to CloudKit Catalog.

The following resources provide more information about CloudKit:

- CloudKit Quick Start gets you started creating a CloudKit native app.

- `CloudKit` teaches you how to write native app code.

- CloudKit Web Services Reference describes the HTTP interface to CloudKit containers and databases.

- iCloud Design Guide provides an overview of all the iCloud services available to apps submitted to the App Store or Mac App Store.

## Topics

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

`CloudKit.ShareRecordType`

Display information about the record type of a shared record.

`CloudKit.SubscriptionsResponse`

A `CloudKit.SubscriptionsResponse` object encapsulates the results of database operations on subscriptions.

`CloudKit.UserIdentitiesResponse`

A `CloudKit.UserIdentitiesResponse` object encapsulates the results of fetching user identities.

### Reference

This document describes the CloudKit JS data types that are not described in individual class reference documents.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit/configure

- CloudKit JS
- CloudKit
- configure

Instance Method

# configure

Configures CloudKit JS.

CloudKit JS 1.0+

`CloudKit` configure(
`CloudKit.CloudKitConfig` config
);

## Parameters

`config`

The properties to use to initialize CloudKit JS.

## Return Value

The configured CloudKit object.

## Discussion

For each container that you access, specify the container ID, API token, and environment.

CloudKit.configure({
containers: [{\
containerIdentifier: '[insert your container ID here]',\
apiTokenAuth: {\
apiToken: '[insert your API token and other authentication properties here]'\
},\
environment: 'development'\
}]
});

Other `CloudKit.ContainerConfig`. `apiTokenAuth` keys, such as the `persist` key, are optional. To keep the user signed in after closing and reopening the browser, set `persist` to `true`.

CloudKit.configure({
containers: [{\
// ...\
apiTokenAuth: {\
apiToken: '[insert your API token and other authentication properties here]',\
persist: true\
}\
}]
});

To customize the sign in and sign out buttons, add `signInButton` and `signOutButton` keys to the `auth` dictionary.

For more container and service configuration options, see `CloudKit.CloudKitConfig` in CloudKit JS Data Types.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit

- CloudKit JS
- CloudKit

Class

# CloudKit

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

CloudKit JS 1.0+

interface CloudKit

## Overview

Set up CloudKit JS by passing container and authentication information to the `configure` method. Also, specify whether to use the development or production environment. You’ll need the container ID and API token to configure CloudKit JS. (Use CloudKit Dashboard to create an API token, as described in Accessing CloudKit Using an API Token.) Some operations require users to enter their Apple ID credentials. Apple presents the sign-in dialog, but you can customize the position and theme of the sign-in and sign-out buttons.

After configuring CloudKit JS, use the container methods to get the app’s container objects ( `CloudKit.Container`), and from the container objects, get the database objects ( `CloudKit.Database`).

## Topics

### Configuring CloudKit JS

`configure`

Configures CloudKit JS.

### Accessing Containers

`getDefaultContainer`

Returns the default container.

`getContainer`

Returns the container with the specified container ID.

`getAllContainers`

Returns all the containers that were configured.

### Constants

Constants describing the environment that stores the containers.

Constants to use when configuring the environment of containers.

### Enumerations

`CloudKit.AppleIDButtonTheme`

Specifies the look of the Apple ID button.

`CloudKit.DatabaseScope`

Available database scopes.

`CloudKit.QueryFilterComparator`

The comparators you use to create queries.

`CloudKit.ReferenceAction`

The delete action for a reference object.

`CloudKit.ShareParticipantAcceptanceStatus`

The status of a participant accepting a share invitation.

`CloudKit.ShareParticipantPermission`

`CloudKit.ShareParticipantType`

Determines whether a participant can modify the list of participants of a shared record.

`CloudKit.SubscriptionType`

The type of subscription.

### Properties

`CKError`

Property to access the error codes.

`DatabaseScope`

Property to access the enumeration.

`Promise`

Represents an operation that hasn’t completed yet, but is expected in the future.

`QueryFilterComparator`

`ReferenceAction`

`ShareParticipantAcceptanceStatus`

`ShareParticipantPermission`

`ShareParticipantType`

`ShareRecordType`

Property to access the class instance.

`SubscriptionType`

### Classes

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

`CloudKit.ShareRecordType`

Display information about the record type of a shared record.

`CloudKit.SubscriptionsResponse`

A `CloudKit.SubscriptionsResponse` object encapsulates the results of database operations on subscriptions.

`CloudKit.UserIdentitiesResponse`

A `CloudKit.UserIdentitiesResponse` object encapsulates the results of fetching user identities.

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

`CloudKit.UserIdentity`

Information to identify a user.

`CloudKit.UserLookupInfo`

Information that can be used to fetch a user.

`CloudKit.ZoneID`

An identifier for a zone, which is an area in a database for organizing related records.

## See Also

### Classes

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit-js-data-types

Collection

- CloudKit JS
- CloudKit JS Data Types

API Collection

# CloudKit JS Data Types

This document describes the CloudKit JS data types that are not described in individual class reference documents.

## Topics

### Dictionaries

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

`CloudKit.UserIdentity`

Information to identify a user.

`CloudKit.UserLookupInfo`

Information that can be used to fetch a user.

`CloudKit.ZoneID`

An identifier for a zone, which is an area in a database for organizing related records.

## See Also

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.cloudkitconfig

- CloudKit JS
- CloudKit.CloudKitConfig

Structure

# CloudKit.CloudKitConfig

Dictionary used to configure the CloudKit environment.

CloudKit JS 1.0+

dictionary CloudKit.CloudKitConfig {
[`CloudKit.ContainerConfig[]`](https://developer.apple.com/documentation/cloudkitjs/cloudkit.containerconfig) containers;
Object services;
};

## Overview

The table describes the `services` properties.

| Property | Description |
| --- | --- |
| `logger` | An object with methods `info`, `log`, `warn`, and `error`. You can set this to `window.console`. |
| `fetch` | A function compatible with `window.fetch`. |
| `Promise` | An object used for deferred and asynchronous computations. To learn more, go to Mozilla Developer Network: Promise. |

## Topics

### Instance Properties

`containers`

An array of dictionaries used to configure each container of type `CloudKit.ContainerConfig`.

`services`

Encapsulates information about services, described in the Discussion section.

## See Also

### Structures

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

`CloudKit.UserIdentity`

Information to identify a user.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit/getdefaultcontainer

- CloudKit JS
- CloudKit
- getDefaultContainer

Instance Method

# getDefaultContainer

Returns the default container.

CloudKit JS 1.0+

`CloudKit.Container` getDefaultContainer();

## Return Value

The default container (the first container that appears in the configuration list of containers).

## See Also

### Accessing Containers

`getContainer`

Returns the container with the specified container ID.

`getAllContainers`

Returns all the containers that were configured.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container

- CloudKit JS
- CloudKit.Container

Class

# CloudKit.Container

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

CloudKit JS 1.0+

interface CloudKit.Container

## Overview

You do not create container objects yourself, nor should you subclass the `CloudKit.Container` class. You configure a container using the `CloudKit`. `configure` method and obtain a container using one of the `CloudKit` namespace container methods.

The asynchronous methods in this class return a `Promise` object that resolves when the operation completes. For a description of the `Promise` class returned by these methods, go to Mozilla Developer Network: Promise.

This class is similar to the `CKContainer` class in the CloudKit framework.

## Topics

### Getting the Public and Private Databases

`publicCloudDatabase`

The database containing the data shared by all users.

`privateCloudDatabase`

The database containing the user’s private data.

`sharedCloudDatabase`

The database containing shared records accepted by the current user.

`getDatabaseWithDatabaseScope`

Returns the specified (public, private, or shared) database.

### Getting the Identifier and Environment

`containerIdentifier`

The string that identifies the app’s container.

`environment`

The container environment, either development or production.

`apnsEnvironment`

The Apple Push Notification service (APNs) environment associated with this container.

### Authenticating Users

`setUpAuth`

Determines whether a user is signed in and presents an appropriate sign in or sign out button.

`whenUserSignsIn`

Returns an object representing a deferred or asynchronous operation that resolves when the user signs in.

`whenUserSignsOut`

Returns an object representing a deferred or asynchronous operation that resolves when the user signs out.

### Discovering Users

`fetchCurrentUserIdentity`

Fetches information about the current user asynchronously.

`discoverAllUserIdentities`

Fetches all user identities in the current user’s address book.

`discoverUserIdentities`

Fetches all users in the specified array.

`discoverUserIdentityWithEmailAddress`

Fetches information about a single user based on the user’s email address.

`discoverUserIdentityWithPhoneNumber`

Fetches information about a single user based on the user’s phone number.

`discoverUserIdentityWithUserRecordName`

Fetches information about a single user using the record name.

### Accepting Shared Records

`acceptShares`

Accepts a share—that is represented by a `shortGUID`—on behalf of the current user.

`fetchRecordInfos`

Returns information about a record for which you have a `shortGUID` property.

### Receiving Notifications

`addNotificationListener`

Adds a function to call when a push notification occurs.

`removeNotificationListener`

Removes a function to call when a push notification occurs.

`registerForNotifications`

Registers to receive push notifications.

`unregisterForNotifications`

Unregisters to receive push notifications.

`isRegisteredForNotifications`

Boolean value indicating whether this container is registered to receive push notifications.

### Logging

`toString`

Returns a string representation of this `CloudKit.Container` object.

## See Also

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

`CloudKit.ShareRecordType`

Display information about the record type of a shared record.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.database

- CloudKit JS
- CloudKit.Database

Class

# CloudKit.Database

A `CloudKit.Database` object represents a public or private database in an app container.

CloudKit JS 1.0+

interface CloudKit.Database

## Overview

Each container has a public database whose data is accessible to all users and, if the current user is signed in, a private database whose data is accessible only by the current user. A database object applies operations to records, subscriptions, and zones within a database.

You do not create database objects yourself, nor should you subclass the `CloudKit.Database` class. You get a database object using either the `publicCloudDatabase` or `privateCloudDatabase` properties in the `CloudKit.Container` class. You get a `CloudKit.Container` object using methods in the `CloudKit` namespace. For example, use `CloudKit`. `getDefaultContainer` to get the default container object.

var container = CloudKit.getDefaultContainer();
var publicDatabase = container.publicCloudDatabase;
var privateDatabase = container.privateCloudDatabase;

Read access to the public database doesn’t require that the user sign in. Your web app may fetch records and perform queries on the public database, but by default your app may not save changes to the public database without a signed-in user. Access to the private database requires that the user sign in. To determine whether a user is authenticated, see `setUpAuth` in `CloudKit.Container`.

The asynchronous methods in this class return a `Promise` object that resolves when the operation completes or is rejected due to an error. For a description of the `Promise` class returned by these methods, go to Mozilla Developer Network: Promise.

This class is similar to the `CKDatabase` class in the CloudKit framework.

### Creating Your Schema

Before you can access records, you must create a schema from your native app using just-in-time schema (see Creating a Database Schema by Saving Records) or using CloudKit Dashboard (see Using CloudKit Dashboard to Manage Databases). Use CloudKit Dashboard to verify that the record types and fields appear in your app’s containers before you test your JavaScript code.

## Topics

### Getting the Container ID

`containerIdentifier`

A unique identifier for the container that this database resides in.

### Accessing Records

`saveRecords`

Saves records to the database.

`fetchRecords`

Fetches one or more records.

`deleteRecords`

Deletes one or more records.

`performQuery`

Fetches records by using a query.

`newRecordsBatch`

Creates records batch builder object for modifying multiple records.

### Accessing Record Zones

`saveRecordZones`

Creates one or more zones in the database.

`fetchRecordZones`

Fetches one or more zones.

`fetchAllRecordZones`

Fetches all zones in the database.

`deleteRecordZones`

Deletes the specified zones.

### Subscribing to Changes

`saveSubscriptions`

Saves one or more subscriptions to record changes.

`fetchSubscriptions`

Fetches one or more subscriptions.

`fetchAllSubscriptions`

Fetches all subscriptions in the schema.

`deleteSubscriptions`

Deletes one or more subscriptions.

### Fetching Changes

`databaseScope`

The type of database (public, private, or shared).

`fetchDatabaseChanges`

Fetch changed record zones in the database.

`fetchRecordZoneChanges`

Fetch changes to the specified record zones in the database.

### Sharing Records

`shareWithUI`

Presents a UI to the user which lets them share a record with other users.

### Logging

`toString`

Returns a string representation of this object.

## See Also

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

`CloudKit.ShareRecordType`

Display information about the record type of a shared record.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror

- CloudKit JS
- CloudKit.CKError

Class

# CloudKit.CKError

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

CloudKit JS 1.0+

interface CloudKit.CKError

## Topics

### Handling Errors

`isError`

A Boolean value indicating whether this is an error object.

`isCKError`

A Boolean value indicating whether this is a CloudKit error object.

`ckErrorCode`

The error code for this error.

`isServerError`

A Boolean value indicating whether a server error occurred.

`serverErrorCode`

The error code generated by the server.

`reason`

A description of the error that occurred.

`retryAfter`

The suggested time to wait before trying this operation again.

`uuid`

A unique identifier for this error.

`redirectURL`

A redirect URL for the user to securely sign in with the user’s Apple ID.

### Identifying the Operation

`recordName`

The name of the record that the operation failed on.

`subscriptionID`

A string that is a unique identifier for the subscription where the error occurred.

`zoneID`

The record zone in the database where the error occurred.

### Constants

The errors that may occur when posting requests.

## See Also

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

`CloudKit.ShareRecordType`

Display information about the record type of a shared record.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.databasechangesresponse

- CloudKit JS
- CloudKit.DatabaseChangesResponse

Class

# CloudKit.DatabaseChangesResponse

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

CloudKit JS 1.0+

interface CloudKit.DatabaseChangesResponse

## Topics

### Request Properties

`resultsLimit`

The maximum number of records to fetch.

### Response Properties

`moreComing`

A Boolean value that indicates there are more database changes to fetch.

`syncToken`

A point in the database’s change history.

`zones`

The zones in the database where the changes occurred.

### Identifying the Class

`isDatabaseChangesResponse`

A Boolean value indicating whether this object is an instance of the `CloudKit.DatabaseChangesResponse` class.

## Relationships

### Inherited By

- `CloudKit.Response`

## See Also

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

`CloudKit.ShareRecordType`

Display information about the record type of a shared record.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.notification

- CloudKit JS
- CloudKit.Notification

Class

# CloudKit.Notification

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

CloudKit JS 1.0+

interface CloudKit.Notification

## Overview

This class is similar to the `CKNotification` class in the CloudKit framework.

## Topics

### Getting Identifiers

`containerIdentifier`

The identifier of the container that generated this notification.

`notificationID`

A unique identifier for this notification.

`subscriptionID`

The identifier for the associated subscription.

`zoneID`

The identifier of the zone that this notification belongs to.

### Getting the Notification Type

`notificationType`

The type of notification.

`isQueryNotification`

A Boolean value indicating whether this push notification is a query notification.

`isRecordZoneNotification`

A Boolean value indicating whether this notification is a push notification that was sent because of changes to a record zone.

### Presenting Notifications

`alertActionLocalizationKey`

A key to get a localized right button title that appears in the alert dialog.

`alertBody`

The text of the alert message.

`alertLaunchImage`

The filename of an image file in the app bundle used as a launch image.

`alertLocalizationArgs`

An array of strings that appear as variables if `alertLocalizationKey` is a format specifier.

`alertLocalizationKey`

A key to a localized alert message.

`badge`

The badge number to display.

`category`

Name of the action group corresponding to this notification.

`soundName`

The name of a sound file in the app bundle to play as an alert.

### Constants

Constants indicating the type of event that generated the push notification.

### Variables

`QUERY_NOTIFICATION_REASON_RECORD_CREATED`

A record matching the subscription’s predicate was created.

`QUERY_NOTIFICATION_REASON_RECORD_DELETED`

A record matching the subscription’s predicate was deleted.

`QUERY_NOTIFICATION_REASON_RECORD_UPDATED`

A record matching the subscription’s predicate was updated.

## Relationships

### Inherits From

- `CloudKit.QueryNotification`
- `CloudKit.RecordZoneNotification`

## See Also

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

`CloudKit.ShareRecordType`

Display information about the record type of a shared record.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.querynotification

- CloudKit JS
- CloudKit.QueryNotification

Class

# CloudKit.QueryNotification

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

CloudKit JS 1.0+

interface CloudKit.QueryNotification

## Overview

This class is similar to the `CKQueryNotification` class in the CloudKit framework.

## Topics

### Getting Record Changes

`queryNotificationReason`

The reason for the query notification.

`recordName`

The name of the record that was created, deleted, or updated.

`recordFields`

A dictionary representation of the fields that changed in the record.

`isPublicDatabase`

Boolean value indicating whether the notification is from the public database.

### Getting the Notification Type

`notificationType`

The type of notification.

`isQueryNotification`

Boolean value indicating whether this notification is a `CloudKit.QueryNotification` object.

### Logging

`toString`

Returns a string representation of the notification.

### Constants

Constants indicating the event that triggered the notification.

## Relationships

### Inherited By

- `CloudKit.Notification`

## See Also

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

`CloudKit.ShareRecordType`

Display information about the record type of a shared record.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.database/savesubscriptions

- CloudKit JS
- CloudKit.Database
- saveSubscriptions

Instance Method

# saveSubscriptions

Saves one or more subscriptions to record changes.

CloudKit JS 1.0+

`CloudKit.Subscription` | `CloudKit.Subscription`[] subscriptions
);

## Parameters

`subscriptions`

Possible values are:

| Type | Description |
| --- | --- |
| `CloudKit.Subscription` | A subscription in the database to save. |
| `CloudKit.Subscription[]` | An array of subscriptions to save. |

## Return Value

A `Promise` object that resolves to a `CloudKit.SubscriptionsResponse` object if the operation succeeds; otherwise, a `CKError` object.

## Discussion

Instead of fetching records, you can subscribe to changes, and let the server run the query in the background. You subscribe to changes by creating a subscription, represented by a `CloudKit.Subscription` dictionary, and saving it to a database. Then you register for push notifications and handle them when they arrive.

Subscribing to Zone Changes

To subscribe to all changes in a zone, set the `CloudKit.Subscription` dictionary’s `subscriptionType` key to `zone` and set the `zoneID` key to the name of the zone you want to observe.

var zoneSubscription = {
subscriptionType: 'zone',
subscriptionID: 'changedArtwork',
zoneID: { zoneName: 'publicArtwork' }
};

Save the subscription using the `saveSubscriptions` method.

database.saveSubscriptions(zoneSubscription).then(function(response) {
if (response.hasErrors) {
// Insert error handling
throw response.errors[0];
} else {
// Successfully saved subscription
}
});

To get the saved subscription, use the `subscriptions` property in the `CloudKit.SubscriptionsResponse` class.

Subscribing to Record Changes Using a Query

Create a query subscription object (a `CloudKit.Subscription` dictionary with the `subscriptionType` key set to `query`) specifying the record type, matching criteria, and types of changes you want to be notified about. Then save the query subscription object to the database.

For example, subscribe to receive new artwork from an artist where the `artist` field in the `Artwork` record type is a `Reference` type. First create a reference to the `Artist` record to use in the query.

var artistReference = {
action: 'NONE',
recordName: 'Mei Chen'
}

Create a query subscription object specifying `Artwork` records whose `artist` field matches the `Reference` object. Use the `firesOn` key to specify the types of operations that fire this subscription.

var querySubscription = {
subscriptionType: 'query',
firesOn: ['create', 'update', 'delete'],
query: {
recordType: 'Artwork',
filterBy: [{\
fieldName: 'artist',\
comparator: 'EQUALS',\
fieldValue: { value: artistReference }\
}]
}
};

Save the subscription using the `saveSubscriptions` method and get the saved subscription using the `subscriptions` property in the `CloudKit.SubscriptionsResponse` class.

database.saveSubscriptions(querySubscription).then(function(response) {
if (response.hasErrors) {
// Insert error handling
throw response.errors[0];
} else {
// Successfully saved subscription
}
});

Handling Subscription Push Notifications

Add a notification listener to the app’s container using the `addNotificationListener` method in the `CloudKit.Container` class and implement the listener to handle the push notifications.

myContainer.addNotificationListener(function(notification) {
console.log(notification);
});

For details on the `CloudKit.Notification` object passed to the listener, read `CloudKit.Notification`.

Registering for Subscription Push Notifications

Saving subscriptions to the database doesn’t automatically configure your web app to receive notifications when a subscription fires. CloudKit uses the Apple Push Notification service (APNs) to send notifications, so your web app needs to register for push notifications to receive them.

To receive push notifications when a subscription fires, use the `registerForNotifications` method in the `CloudKit.Container` class.

var myContainer = CloudKit.getDefaultContainer();
myContainer.registerForNotifications();

## See Also

### Subscribing to Changes

`fetchSubscriptions`

Fetches one or more subscriptions.

`fetchAllSubscriptions`

Fetches all subscriptions in the schema.

`deleteSubscriptions`

Deletes one or more subscriptions.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.queryresponse

- CloudKit JS
- CloudKit.QueryResponse

Class

# CloudKit.QueryResponse

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

CloudKit JS 1.0+

interface CloudKit.QueryResponse

## Overview

The `performQuery` method in the `CloudKit.Database` class returns a `Promise` object that resolves to a `CloudKit.QueryResponse` object. You should not create instances of this class directly.

If the criteria matches more records than are returned by the server, the `continuationMarker` property is non- `null`, or the `moreComing` property is `true`. To fetch the rest of the matching records, pass the `CloudKit.QueryResponse` object to another `performQuery` call until the `continuationMarker` property is `null` or the `moreComing` property is `false`.

For an example use of this class, see the `performQuery` method in `CloudKit.Database`.

## Topics

### Accessing Request Properties

`zoneID`

A `CloudKit.ZoneID` dictionary that identifies a record zone in the database.

`resultsLimit`

The maximum number of records to fetch.

`continuationMarker`

Marks the location of the last batch of results.

`desiredKeys`

An array of strings containing record field names that limits the amount of data returned in this operation.

`zoneWide`

A Boolean value that determines whether all zones should be searched.

### Accessing Response Properties

`moreComing`

A Boolean value that indicates whether there are more records to fetch.

`query`

A `CloudKit.Query` dictionary containing the criteria for matching records in the database.

### Identifying the Class

`isQueryResponse`

A Boolean value indicating whether this object is an instance of the `CloudKit.QueryResponse` class.

### Logging

`toString`

Returns a string representation of this `CloudKit.QueryResponse` object.

## Relationships

### Inherited By

- `CloudKit.RecordsResponse`

## See Also

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

`CloudKit.ShareRecordType`

Display information about the record type of a shared record.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordinfosresponse

- CloudKit JS
- CloudKit.RecordInfosResponse

Class

# CloudKit.RecordInfosResponse

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

CloudKit JS 1.0+

interface CloudKit.RecordInfosResponse

## Topics

### Response Properties

`results`

The results of fetching record information.

### Identifying the Class

`isRecordInfosResponse`

A Boolean value indicating whether this object is an instance of the `CloudKit.RecordInfosResponse` class.

### Logging

`toString`

Returns a string representation of this object.

## Relationships

### Inherited By

- `CloudKit.Response`

## See Also

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

`CloudKit.ShareRecordType`

Display information about the record type of a shared record.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordsbatchbuilder

- CloudKit JS
- CloudKit.RecordsBatchBuilder

Class

# CloudKit.RecordsBatchBuilder

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

CloudKit JS 1.0+

interface CloudKit.RecordsBatchBuilder

## Overview

It is more efficient to use this class to batch multiple record changes into a single operation than to use the individual record change methods in the `CloudKit.Database` class. Using this class is especially important if the record types contain `Reference` fields. CloudKit ensures that in a graph of related records, target records are saved before source records.

You should not create instances of this class directly. Instead use the `newRecordsBatch` method in the `CloudKit.Database` class to get a `CloudKit.RecordsBatchBuilder` object. Then use the create, replace, and delete methods in this class to build the batch operation. Use the `commit` method to execute the batch operation.

For convenience, most methods in this class that add operations return the `CloudKit.RecordsBatchBuilder` object so that you can chain method calls together; for example:

myDatabase.newRecordsBatch()
.create(someRecord)
.update(someOtherRecord)
.delete(aThirdRecord)
.commit()

For similar web service operations, read Modifying Records (records/modify) in CloudKit Web Services Reference.

## Topics

### Creating and Updating Records

`create`

Creates one or more records.

`createOrUpdate`

Creates or updates one or more records depending on the information provided.

`update`

Updates one or more existing records.

`forceUpdate`

Updates one or more existing records regardless of conflicts.

### Replacing Records

`replace`

Replaces one or more records with the specified records.

`forceReplace`

Replaces one or more records with the specified records regardless of conflicts.

### Deleting Records

`delete`

Deletes one or more records.

`forceDelete`

Deletes one or more records regardless of conflicts.

### Executing Operations

`commit`

Executes the operations on the database that created this batch builder object.

## See Also

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

`CloudKit.ShareRecordType`

Display information about the record type of a shared record.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordsresponse

- CloudKit JS
- CloudKit.RecordsResponse

Class

# CloudKit.RecordsResponse

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

CloudKit JS 1.0+

interface CloudKit.RecordsResponse

## Overview

The methods in the `CloudKit.Database` class that operate on records and the `commit` method in the `CloudKit.RecordsBatchBuilder` class return a `Promise` object that resolves to a `CloudKit.RecordsResponse` object if the operation is successful. You should not create instances of this class directly.

Errors can occur for individual operations although the overall method may succeed. If an individual operation is successful, a corresponding `CloudKit.Record` dictionary appears in the `records` array. If an individual operation is unsuccessful, a corresponding `CKError` appears in the errors array.

For examples using the `CloudKit.Database` methods that resolve to a `CloudKit.RecordsResponse` object, see the `saveRecord` and `fetchRecord` methods in `CloudKit.Database`.

## Topics

### Getting Records

`records`

The records for the successful operations.

`numbersAsStrings`

A Boolean value indicating whether the numbers in fields are represented as strings.

### Identifying the Class

`isRecordsResponse`

A Boolean value indicating whether this object is an instance of the `CloudKit.RecordsResponse` class.

### Logging

`toString`

Returns a string representation of this `CloudKit.RecordsResponse` object.

## Relationships

### Inherits From

- `CloudKit.QueryResponse`

### Inherited By

- `CloudKit.Response`

## See Also

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

`CloudKit.ShareRecordType`

Display information about the record type of a shared record.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordzonechangesresponse

- CloudKit JS
- CloudKit.RecordZoneChangesResponse

Class

# CloudKit.RecordZoneChangesResponse

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

CloudKit JS 1.0+

interface CloudKit.RecordZoneChangesResponse

## Topics

### Response Properties

`zones`

The records that changed in each zone.

### Identifying the Class

`isRecordZoneChangesResponse`

A Boolean value indicating whether this object is an instance of the `CloudKit.RecordZoneChangesResponse` class.

## Relationships

### Inherited By

- `CloudKit.Response`

## See Also

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

`CloudKit.ShareRecordType`

Display information about the record type of a shared record.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordzonenotification

- CloudKit JS
- CloudKit.RecordZoneNotification

Class

# CloudKit.RecordZoneNotification

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

CloudKit JS 1.0+

interface CloudKit.RecordZoneNotification

## Overview

This class is similar to the `CKRecordZoneNotification` class in the CloudKit framework.

## Topics

### Getting the Notification Type

`notificationType`

The type of notification.

`isRecordZoneNotification`

A Boolean value indicating whether this notification is a `CloudKit.RecordZoneNotification` object.

### Logging

`toString`

Returns a string representation of the notification.

## Relationships

### Inherited By

- `CloudKit.Notification`

## See Also

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

`CloudKit.ShareRecordType`

Display information about the record type of a shared record.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordzonesresponse

- CloudKit JS
- CloudKit.RecordZonesResponse

Class

# CloudKit.RecordZonesResponse

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

CloudKit JS 1.0+

interface CloudKit.RecordZonesResponse

## Overview

The methods in the `CloudKit.Database` class that operate on record zones return a `Promise` object that resolves to a `CloudKit.RecordZonesResponse` object if the operation is successful. You should not create instances of this class directly.

Errors can occur for individual operations although the overall method may succeed. If an individual operation is successful, a corresponding zone dictionary appears in the `zones` array. If an individual operation is unsuccessful, a corresponding `CKError` appears in the errors array.

## Topics

### Accessing Properties

`zones`

The zones for the successful database operations.

### Identifying the Class

`isRecordZonesResponse`

A Boolean value indicating whether this object is an instance of the `CloudKit.RecordZonesResponse` class.

### Logging

`toString`

Returns a string representation of this `CloudKit.RecordZonesResponse` object.

## Relationships

### Inherited By

- `CloudKit.Response`

## See Also

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

`CloudKit.ShareRecordType`

Display information about the record type of a shared record.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.response

- CloudKit JS
- CloudKit.Response

Class

# CloudKit.Response

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

CloudKit JS 1.0+

interface CloudKit.Response

## Overview

For examples of methods that resolve to a `CloudKit.Response` subclass, read `CloudKit.Database`.

## Topics

### Handling Errors

`hasErrors`

A Boolean value indicating whether errors occurred in the request.

`errors`

Errors that occurred in the request.

### Identifying the Class

`isResponse`

A Boolean value that indicates whether there is a response from the request.

## Relationships

### Inherits From

- `CloudKit.DatabaseChangesResponse`
- `CloudKit.RecordInfosResponse`
- `CloudKit.RecordZoneChangesResponse`
- `CloudKit.RecordZonesResponse`
- `CloudKit.RecordsResponse`
- `CloudKit.SubscriptionsResponse`
- `CloudKit.UserIdentitiesResponse`

## See Also

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.ShareRecordType`

Display information about the record type of a shared record.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.sharerecordtype

- CloudKit JS
- CloudKit.ShareRecordType

Class

# CloudKit.ShareRecordType

Display information about the record type of a shared record.

CloudKit JS 1.0+

interface CloudKit.ShareRecordType

## Topics

### Properties

`NAME`

The name of the share record type `CloudKit.share`.

`THUMBNAIL_IMAGE_DATA_FIELD_NAME`

The name of the thumbnail image data field.

`TITLE_FIELD_NAME`

The name of the title field.

`TYPE_FIELD_NAME`

The name of the type field.

## See Also

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.subscriptionsresponse

- CloudKit JS
- CloudKit.SubscriptionsResponse

Class

# CloudKit.SubscriptionsResponse

A `CloudKit.SubscriptionsResponse` object encapsulates the results of database operations on subscriptions.

CloudKit JS 1.0+

interface CloudKit.SubscriptionsResponse

## Overview

The methods in the `CloudKit.Database` class that operate on subscriptions return a `Promise` object that resolves to a `CloudKit.SubscriptionsResponse` object if the operation is successful. You should not create instances of this class directly.

Errors can occur for individual operations even though the overall method may succeed. If an individual operation is successful, a corresponding `CloudKit.Subscription` dictionary appears in the `subscriptions` array. If an individual operation is unsuccessful, a corresponding `CKError` appears in the errors array.

For examples of using `CloudKit.Database` methods that resolve to a `CloudKit.SubscriptionsResponse` object, see the `saveSubscriptions` method in `CloudKit.Database`.

## Topics

### Getting Subscriptions

`subscriptions`

Contains the subscriptions for the successful operations.

### Identifying the Class

`isSubscriptionsResponse`

Boolean value indicating whether this object is an instance of the `CloudKit.SubscriptionsResponse` class.

### Logging

`toString`

Returns a string representation of this object.

## Relationships

### Inherited By

- `CloudKit.Response`

## See Also

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.useridentitiesresponse

- CloudKit JS
- CloudKit.UserIdentitiesResponse

Class

# CloudKit.UserIdentitiesResponse

A `CloudKit.UserIdentitiesResponse` object encapsulates the results of fetching user identities.

CloudKit JS 1.0+

interface CloudKit.UserIdentitiesResponse

## Topics

### Response Properties

`users`

The fetched user identities.

### Identifying the Class

`isUserIdentitiesResponse`

A Boolean value indicating whether this object is an instance of the `CloudKit.UserIdentitiesResponse` class.

### Logging

`toString`

Returns a string representation of this object.

## Relationships

### Inherited By

- `CloudKit.Response`

## See Also

### Classes

`CloudKit`

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

`CloudKit.CKError`

A `CloudKit.CKError` object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

`CloudKit.Container`

A `CloudKit.Container` object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

`CloudKit.Database`

A `CloudKit.Database` object represents a public or private database in an app container.

`CloudKit.DatabaseChangesResponse`

A `CloudKit.DatabaseChangesResponse` object encapsulates the results of fetching changed record zones in a database.

`CloudKit.Notification`

A `CloudKit.Notification` object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in `CloudKit.Database`.

`CloudKit.QueryNotification`

A `CloudKit.QueryNotification` object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a `CloudKit.QueryNotification` object to get information about the record that changed. To create query subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.QueryResponse`

A `CloudKit.QueryResponse` object encapsulates the results of using a query to fetch records

`CloudKit.RecordInfosResponse`

A `CloudKit.RecordInfosResponse` object encapsulates the results of fetching information about records in general and shared records in particular.

`CloudKit.RecordsBatchBuilder`

A `CloudKit.RecordsBatchBuilder` object encapsulates the results of changes to multiple records in a single database operation.

`CloudKit.RecordsResponse`

A `CloudKit.RecordsResponse` object encapsulates the results of fetching records.

`CloudKit.RecordZoneChangesResponse`

The `CloudKit.RecordZoneChangesResponse` object encapsulates the results of fetching changes to one or more record zones.

`CloudKit.RecordZoneNotification`

A `CloudKit.RecordZoneNotification` object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a `CloudKit.RecordZoneNotification` object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the `saveSubscriptions` method in `CloudKit.Database`.

`CloudKit.RecordZonesResponse`

A `CloudKit.RecordZonesResponse` object encapsulates the results of database operations on a record zone.

`CloudKit.Response`

The `CloudKit.Response` class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the `CloudKit.Container` and `CloudKit.Database` classes. Most of these methods return a `Promise` object that resolves to a subclass of `CloudKit.Response` if the operation is successful.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit-js-enumerations

Collection

- CloudKit JS
- CloudKit JS Enumerations

API Collection

# CloudKit JS Enumerations

## Topics

### Enumerations

`CloudKit.AppleIDButtonTheme`

Specifies the look of the Apple ID button.

`CloudKit.DatabaseScope`

Available database scopes.

`CloudKit.QueryFilterComparator`

The comparators you use to create queries.

`CloudKit.ReferenceAction`

The delete action for a reference object.

`CloudKit.ShareParticipantAcceptanceStatus`

The status of a participant accepting a share invitation.

`CloudKit.ShareParticipantPermission`

`CloudKit.ShareParticipantType`

Determines whether a participant can modify the list of participants of a shared record.

`CloudKit.SubscriptionType`

The type of subscription.

## See Also

### Reference

This document describes the CloudKit JS data types that are not described in individual class reference documents.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit/configure)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit-js-data-types)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.cloudkitconfig)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit/getdefaultcontainer)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container))



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.database)).



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.database)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.databasechangesresponse)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.notification)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.database).



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.querynotification)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.database/savesubscriptions)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.queryresponse)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordinfosresponse)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordsbatchbuilder)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordsresponse)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordzonechangesresponse)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordzonenotification)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordzonesresponse)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.response)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.sharerecordtype)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.subscriptionsresponse)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.useridentitiesresponse)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit-js-enumerations)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit/getcontainer

- CloudKit JS
- CloudKit
- getContainer

Instance Method

# getContainer

Returns the container with the specified container ID.

CloudKit JS 1.0+

`CloudKit.Container` getContainer(
String containerIdentifier
);

## Parameters

`containerIdentifier`

The identifier for the container you want to get.

## Return Value

The container with the specified container ID if it exists; otherwise, the value is undefined.

## See Also

### Accessing Containers

`getDefaultContainer`

Returns the default container.

`getAllContainers`

Returns all the containers that were configured.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit/getallcontainers

- CloudKit JS
- CloudKit
- getAllContainers

Instance Method

# getAllContainers

Returns all the containers that were configured.

CloudKit JS 1.0+

[`CloudKit.Container[]`](https://developer.apple.com/documentation/cloudkitjs/cloudkit.container) getAllContainers();

## Return Value

All the configured containers.

## See Also

### Related Documentation

`configure`

Configures CloudKit JS.

### Accessing Containers

`getDefaultContainer`

Returns the default container.

`getContainer`

Returns the container with the specified container ID.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit/getcontainer)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit/getallcontainers)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.containerconfig

- CloudKit JS
- CloudKit.ContainerConfig

Structure

# CloudKit.ContainerConfig

A configuration for a container.

CloudKit JS 1.0+

dictionary CloudKit.ContainerConfig {
String containerIdentifier;
String environment;
String apnsEnvironment;
Object apiTokenAuth;
Object serverToServerKeyAuth;
};

## Overview

This table describes `apiTokenAuth` properties.

| Property | Description |
| --- | --- |
| `apiToken` | The API token generated and obtained using CloudKit Dashboard. To create an API token, read Accessing CloudKit Using an API Token in CloudKit Web Services Reference. |
| `persist` | Boolean value indicating whether the CloudKit session token persists. The default value is `false`. |
| `signInButton` | The sign-in button to display to the user. The properties are: ![](https://docs-assets.developer.apple.com/published/67dc4b07a8d84366d4cc0e812eb40b4a/spacer.png) id: The DOM element ID. The default value is `apple-sign-in-button`. ![](https://docs-assets.developer.apple.com/published/67dc4b07a8d84366d4cc0e812eb40b4a/spacer.png) theme: The button theme. The default value is `medium`. ![](https://docs-assets.developer.apple.com/published/67dc4b07a8d84366d4cc0e812eb40b4a/spacer.png) If `null`, uses the default property values. |
| `signOutButton` | The sign-out button to display to the user. The properties are: ![](https://docs-assets.developer.apple.com/published/67dc4b07a8d84366d4cc0e812eb40b4a/spacer.png) id: The DOM element ID. The default value is `apple-sign-out-button`. ![](https://docs-assets.developer.apple.com/published/67dc4b07a8d84366d4cc0e812eb40b4a/spacer.png) theme: The button theme. The default value is `medium`. ![](https://docs-assets.developer.apple.com/published/67dc4b07a8d84366d4cc0e812eb40b4a/spacer.png) If `null`, uses the default property values. |

This table describes `serverToServerKeyAuth` properties.

| Property | Description |
| --- | --- |
| `keyID` | A unique identifier for the key generated using CloudKit Dashboard. To create this key, read Accessing CloudKit Using a Server-to-Server Key in CloudKit Web Services Reference. |
| `privateKeyFile` | The path to the PEM encoded key file. |
| `privateKeyPassPhrase` | The pass phrase for the key. |

## Topics

### Instance Properties

`apiTokenAuth`

The API token and other authentication properties, described in the Discussion section. Either this key or the `serverToServerKeyAuth` key is required. If you include this key, don’t include the `serverToServerKeyAuth` key.

`apnsEnvironment`

The Apple Push Notification service (APNs) environment associated with this container. Possible values are `CloudKit`. `DEVELOPMENT_ENVIRONMENT` and `CloudKit`. `PRODUCTION_ENVIRONMENT`.

`containerIdentifier`

The string that identifies the app’s container. This key is required.

`environment`

The version of the app’s container. Possible values are `CloudKit`. `DEVELOPMENT_ENVIRONMENT` and `CloudKit`. `PRODUCTION_ENVIRONMENT`.

`serverToServerKeyAuth`

The server-to-server authentication key and related properties, described in the Discussion section. Either this key or the `apiTokenAuth` key is required. If you include this key, don’t include the `apiTokenAuth` key.

## See Also

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

`CloudKit.UserIdentity`

Information to identify a user.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.namecomponents

- CloudKit JS
- CloudKit.NameComponents

Structure

# CloudKit.NameComponents

The parts of the user’s name.

CloudKit JS 1.0+

dictionary CloudKit.NameComponents {
String givenName;
String familyName;
};

## Topics

### Instance Properties

`familyName`

The user’s last name.

`givenName`

The user’s first name.

## See Also

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

`CloudKit.UserIdentity`

Information to identify a user.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.notificationinfo

- CloudKit JS
- CloudKit.NotificationInfo

Structure

# CloudKit.NotificationInfo

Information about a notification.

CloudKit JS 1.0+

dictionary CloudKit.NotificationInfo {
String alertBody;
String alertLocalizationKey;
String[] alertLocalizationArgs;
String alertActionLocalizationKey;
String alertLaunchImage;
String soundName;
Boolean shouldBadge;
Boolean shouldSendContentAvailable;
String[] additionalFields;
String category;
};

## Overview

The `CloudKit.NotificationInfo` dictionary is the same as the dictionary described in Notification Info Dictionary in CloudKit Web Services Reference.

## Topics

### Instance Properties

`additionalFields`

Fields the server sends along with this notification.

`alertActionLocalizationKey`

A key to get a localized right button title that appears in the alert dialog.

`alertBody`

The text of the alert message.

`alertLaunchImage`

The filename of an image file in the app bundle used as a launch image.

`alertLocalizationArgs`

Array of strings to appear as variables if `alertLocalizationKey` is a format specifier.

`alertLocalizationKey`

A key to a localized alert-message.

`category`

The name of the action group corresponding to this notification.

`shouldBadge`

A Boolean value indicating whether a badge should be displayed. If `true`, a badge is displayed; otherwise, it is not. The default value is `false`.

`shouldSendContentAvailable`

A Boolean value indicating whether new content is available. If `true`, new content is available; otherwise, it is not. The default value is `false`.

`soundName`

The name of a sound file in the app bundle to play as an alert.

## See Also

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

`CloudKit.UserIdentity`

Information to identify a user.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.query

- CloudKit JS
- CloudKit.Query

Structure

# CloudKit.Query

Search parameters to use when fetching records from the database.

CloudKit JS 1.0+

dictionary CloudKit.Query {
String recordType;
Object[] filterBy;
Object[] sortBy;
};

## Overview

The `CloudKit.Query` dictionary is the same as the dictionary described in Fetching Records Using a Query (records/query) in CloudKit Web Services Reference.

## Topics

### Instance Properties

`filterBy`

An array of predicate dictionaries used to determine whether a record matches the query.

`recordType`

The name of the record type. This key is required.

`sortBy`

An array of sort descriptor dictionaries that specify how to order the fetched records.

## See Also

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

`CloudKit.UserIdentity`

Information to identify a user.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.record

- CloudKit JS
- CloudKit.Record

Structure

# CloudKit.Record

A record in the database.

CloudKit JS 1.0+

dictionary CloudKit.Record {
Object created;
Object modified;
String recordType;
String recordName;
String recordChangeTag;
Boolean deleted;
Boolean createShortGUID;
String shortGUID;
CKReference parent;
CKReference share;

};

## Overview

The `CloudKit.Record` dictionary is the same as the dictionary described in Modifying Records (records/modify) in CloudKit Web Services Reference.

## Topics

### Instance Properties

`createShortGUID`

A Boolean value indicating whether to create a short GUID.

`created`

Information about when the record was created on the server. The properties of this object are: `timestamp` ( `Number`), the time at which the record was created, and `user` ( `String`), the ID of the user who created the record. This field is used by the `CloudKit.RecordsResponse` class. The value of this field is set by the server. Omit this key when saving a record.

`deleted`

A Boolean value indicating whether the record was deleted. `true` if the record was deleted; otherwise, `false`.

`fields`

Names of the fields or field-value pairs.

`modified`

Information about when the record was last modified. The properties of this object are: `timestamp` ( `Number`), the time at which the record was created, and `user` ( `String`), the ID of the user who modified the record. This field is used by the `CloudKit.RecordsResponse` class. This value of this field is set by the server. Omit this key when saving a record.

`parent`

A reference to a parent object used for sharing.

`recordChangeTag`

A string containing the server change token for the record. Use this tag to indicate which version of the record you last fetched. This key is required if you are saving an existing record.

`recordName`

The unique name used to identify the record. The default value is a random UUID.

`recordType`

The name of the record type. This key is required if the record doesn’t exist.

`share`

A reference to the shared object for this record.

`shortGUID`

A global unique identifier for this record used for sharing.

## See Also

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

`CloudKit.UserIdentity`

Information to identify a user.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordfield

- CloudKit JS
- CloudKit.RecordField

Structure

# CloudKit.RecordField

A field value of a record.

CloudKit JS 1.0+

dictionary CloudKit.RecordField {
String type;
Object value;
};

## Overview

The `CloudKit.RecordField` dictionary is similar to the dictionary described in Record Field Dictionary in CloudKit Web Services Reference.

## Topics

### Instance Properties

`type`

The type of the field.

`value`

The value of the field.

## See Also

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

`CloudKit.UserIdentity`

Information to identify a user.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordinfo

- CloudKit JS
- CloudKit.RecordInfo

Structure

# CloudKit.RecordInfo

Encapsulates the results of fetching information about a record.

CloudKit JS 1.0+

dictionary CloudKit.RecordInfo {
`CloudKit.Record` rootRecord;
`CloudKit.Share` share;
};

## Topics

### Instance Properties

`rootRecord`

The root shared record.

`share`

The shared record.

## See Also

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

`CloudKit.UserIdentity`

Information to identify a user.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordzone

- CloudKit JS
- CloudKit.RecordZone

Structure

# CloudKit.RecordZone

Represents a record zone.

CloudKit JS 1.0+

dictionary CloudKit.RecordZone {
`CloudKit.ZoneID` zoneID;
};

## Topics

### Instance Properties

`zoneID`

The record zone identifier.

## See Also

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

`CloudKit.UserIdentity`

Information to identify a user.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordzonechanges

- CloudKit JS
- CloudKit.RecordZoneChanges

Structure

# CloudKit.RecordZoneChanges

Represents the changes in a record zone.

CloudKit JS 1.0+

dictionary CloudKit.RecordZoneChanges {
`CloudKit.ZoneID` zoneID;
Boolean resultsLimit;
String[] desiredKeys;
String[] desiredRecordTypes;
Boolean moreComing;
String syncToken;
[`CloudKit.Record[]`](https://developer.apple.com/documentation/cloudkitjs/cloudkit.record) records;
[`CloudKit.CKError[]`](https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror) errors;
};

## Topics

### Instance Properties

`desiredKeys`

An array of record field names that limit the amount of data returned. Only the fields specified in the array are returned. The default is `null`, which fetches all record fields.

`desiredRecordTypes`

An array of record types that limit the amount of records returned. Only the record types specified in the array are returned.

`errors`

Errors that may have occurred fetching the changed records.

`moreComing`

Boolean value that indicates whether there are more changes to request. If `moreComing` is `true`, request more changes using the value of the included `syncToken` key. If `moreComing` is `false`, there are no more changes.

`records`

The records that changed.

`resultsLimit`

The maximum number of records to fetch.

`syncToken`

Identifies a point in the zone’s change history. The first time you get record changes, omit this key and if `moreComing` is `true` in the response, use the `syncToken` in the response in the next request until `moreComing` is `false`. Otherwise, get the current sync token by fetching a zone.

`zoneID`

The record zone identifier.

## See Also

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

`CloudKit.UserIdentity`

Information to identify a user.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordzonechangesoptions

- CloudKit JS
- CloudKit.RecordZoneChangesOptions

Structure

# CloudKit.RecordZoneChangesOptions

Options about fetching changes in a record zone.

CloudKit JS 1.0+

dictionary CloudKit.RecordZoneChangesOptions {
`CloudKit.ZoneID` zoneID;
String[] desiredKeys;
String[] desiredRecordTypes;
String syncToken;
};

## Topics

### Instance Properties

`desiredKeys`

An array of record field names that limit the amount of data returned. Only the fields specified in the array are returned. The default is `null`, which fetches all record fields.

`desiredRecordTypes`

`syncToken`

Identifies a point in the zone’s change history. The first time you get record changes, omit this key and if `moreComing` is `true` in the response, use the `syncToken` in the response in the next request until `moreComing` is `false`. Otherwise, get the current sync token by fetching a zone.

`zoneID`

The record zone identifier.

## See Also

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

`CloudKit.UserIdentity`

Information to identify a user.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.share

- CloudKit JS
- CloudKit.Share

Structure

# CloudKit.Share

Represents a shared record.

CloudKit JS 1.0+

dictionary CloudKit.Share {
String recordType;
`CloudKit.ShareParticipantPermission` publicPermission;
[`CloudKit.ShareParticipant[]`](https://developer.apple.com/documentation/cloudkitjs/cloudkit.shareparticipant) participants;
};

## Topics

### Instance Properties

`participants`

Users who accepted this shared record.

`publicPermission`

Th public’s read and write permissions.

`recordType`

The type of record.

## See Also

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

`CloudKit.UserIdentity`

Information to identify a user.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.shareparticipant

- CloudKit JS
- CloudKit.ShareParticipant

Structure

# CloudKit.ShareParticipant

Represents a user who accepted a shared record.

CloudKit JS 1.0+

dictionary CloudKit.ShareParticipant {
`CloudKit.ShareParticipantPermission` permission;
`CloudKit.ShareParticipantAcceptanceStatus` acceptanceStatus;
`CloudKit.ShareParticipantType` type;
};

## Topics

### Instance Properties

`acceptanceStatus`

Indicates the status of accepting the shared record.

`permission`

The participant’s read and write permissions.

`type`

Type of participant.

## See Also

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

`CloudKit.UserIdentity`

Information to identify a user.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.sharinguiresult

- CloudKit JS
- CloudKit.SharingUIResult

Structure

# CloudKit.SharingUIResult

Represents the results of sharing a record with other users.

CloudKit JS 1.0+

dictionary CloudKit.SharingUIResult {
`CloudKit.Share` share;
};

## Topics

### Instance Properties

`share`

The record that was accepted.

## See Also

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

`CloudKit.UserIdentity`

Information to identify a user.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.subscription

- CloudKit JS
- CloudKit.Subscription

Structure

# CloudKit.Subscription

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

CloudKit JS 1.0+

dictionary CloudKit.Subscription {
String subscriptionType;
String subscriptionID;
`CloudKit.ZoneID` zoneID;
`CloudKit.NotificationInfo` notificationInfo;
Boolean zoneWide;
String[] firesOn;
Boolean firesOnce;
Query query;
};

## Overview

The `CloudKit.Subscription` dictionary is the same as the dictionary described in Subscription Dictionary in CloudKit Web Services Reference.

## Topics

### Instance Properties

`firesOn`

An array of keywords that specify the actions that should trigger push notifications. Possible values in the array are: `"create"`, `"update"`, and `"delete"`. This key is not used if `query` is null.

`firesOnce`

A Boolean value indicating whether push notifications should be triggered once. If `true`, push notifications are sent once. If `false`, they can be sent multiple times. The default value is `false`.

`notificationInfo`

A dictionary containing information about how the system should alert the user.

`query`

The matching criteria to apply to records.

`subscriptionID`

A unique identifier for the subscription.

`subscriptionType`

The type of subscription. Possible values are: `"zone"`, and `"query”`. This key is required.

`zoneID`

Dictionary that identifies a record zone to monitor in the database.

`zoneWide`

A Boolean value determining whether all zones should be searched. If `true`, all zones are searched. If `false`, the default zone is searched.

## See Also

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.UserIdentity`

Information to identify a user.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.useridentity

- CloudKit JS
- CloudKit.UserIdentity

Structure

# CloudKit.UserIdentity

Information to identify a user.

CloudKit JS 1.0+

dictionary CloudKit.UserIdentity {
`CloudKit.NameComponents` nameComponents;
String userRecordName;
`CloudKit.UserLookupInfo` lookupInfo;
};

## Overview

If a user is discoverable, the `CloudKit.UserIdentity` dictionary contains a `nameComponents` key that you can use to get the user’s first and last name; otherwise, to protect the users’s privacy, the `CloudKit.UserIdentity` dictionary contains only the `lookupInfo` key.

## Topics

### Instance Properties

`lookupInfo`

Information used to fetch a user.

`nameComponents`

An object that contains the user’s name. Use the `familyName` key to get the last name, and the `givenName` key to get the first name.

`userRecordName`

The name of the user record.

## See Also

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.userlookupinfo

- CloudKit JS
- CloudKit.UserLookupInfo

Structure

# CloudKit.UserLookupInfo

Information that can be used to fetch a user.

CloudKit JS 1.0+

dictionary CloudKit.UserLookupInfo {
String userRecordName;
String emailAddress;
String phoneNumber;
};

## Topics

### Instance Properties

`emailAddress`

The user’s email address.

`phoneNumber`

The user’s phone number.

`userRecordName`

The name of the user record.

## See Also

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.zoneid

- CloudKit JS
- CloudKit.ZoneID

Structure

# CloudKit.ZoneID

An identifier for a zone, which is an area in a database for organizing related records.

CloudKit JS 1.0+

dictionary CloudKit.ZoneID {
String zoneName;
};

## Overview

The `CloudKit.ZoneID` dictionary is the same as the dictionary described in Zone Dictionary in CloudKit Web Services Reference.

## Topics

### Instance Properties

`zoneName`

The name that identifies the record zone. The default value is `_defaultZone`, which indicates the default zone of the current database. This key is required.

## See Also

### Structures

`CloudKit.CloudKitConfig`

Dictionary used to configure the CloudKit environment.

`CloudKit.ContainerConfig`

A configuration for a container.

`CloudKit.NameComponents`

The parts of the user’s name.

`CloudKit.NotificationInfo`

Information about a notification.

`CloudKit.Query`

Search parameters to use when fetching records from the database.

`CloudKit.Record`

A record in the database.

`CloudKit.RecordField`

A field value of a record.

`CloudKit.RecordInfo`

Encapsulates the results of fetching information about a record.

`CloudKit.RecordZone`

Represents a record zone.

`CloudKit.RecordZoneChanges`

Represents the changes in a record zone.

`CloudKit.RecordZoneChangesOptions`

Options about fetching changes in a record zone.

`CloudKit.Share`

Represents a shared record.

`CloudKit.ShareParticipant`

Represents a user who accepted a shared record.

`CloudKit.SharingUIResult`

Represents the results of sharing a record with other users.

`CloudKit.Subscription`

A subscription, which is a persistent query on the server that tracks the creation, deletion, and modification of records.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.containerconfig)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.namecomponents)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.notificationinfo)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.query)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.record)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordfield)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordinfo)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordzone)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordzonechanges)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.recordzonechangesoptions)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.share)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.shareparticipant)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.sharinguiresult)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.subscription)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.useridentity)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.userlookupinfo)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.zoneid)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/iserror

- CloudKit JS
- CloudKit.CKError
- isError

Instance Property

# isError

A Boolean value indicating whether this is an error object.

CloudKit JS 1.0+

readonly attribute Boolean isError;

## Discussion

This property is always `true`; for example, use this method when processing the results of operations that may contain errors.

## See Also

### Handling Errors

`isCKError`

A Boolean value indicating whether this is a CloudKit error object.

`ckErrorCode`

The error code for this error.

`isServerError`

A Boolean value indicating whether a server error occurred.

`serverErrorCode`

The error code generated by the server.

`reason`

A description of the error that occurred.

`retryAfter`

The suggested time to wait before trying this operation again.

`uuid`

A unique identifier for this error.

`redirectURL`

A redirect URL for the user to securely sign in with the user’s Apple ID.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/isckerror

- CloudKit JS
- CloudKit.CKError
- isCKError

Instance Property

# isCKError

A Boolean value indicating whether this is a CloudKit error object.

CloudKit JS 1.0+

readonly attribute Boolean isCKError;

## See Also

### Handling Errors

`isError`

A Boolean value indicating whether this is an error object.

`ckErrorCode`

The error code for this error.

`isServerError`

A Boolean value indicating whether a server error occurred.

`serverErrorCode`

The error code generated by the server.

`reason`

A description of the error that occurred.

`retryAfter`

The suggested time to wait before trying this operation again.

`uuid`

A unique identifier for this error.

`redirectURL`

A redirect URL for the user to securely sign in with the user’s Apple ID.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/ckerrorcode

- CloudKit JS
- CloudKit.CKError
- ckErrorCode

Instance Property

# ckErrorCode

The error code for this error.

CloudKit JS 1.0+

readonly attribute String ckErrorCode;

## Discussion

Possible values are described in Errors.

## See Also

### Handling Errors

`isError`

A Boolean value indicating whether this is an error object.

`isCKError`

A Boolean value indicating whether this is a CloudKit error object.

`isServerError`

A Boolean value indicating whether a server error occurred.

`serverErrorCode`

The error code generated by the server.

`reason`

A description of the error that occurred.

`retryAfter`

The suggested time to wait before trying this operation again.

`uuid`

A unique identifier for this error.

`redirectURL`

A redirect URL for the user to securely sign in with the user’s Apple ID.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/isservererror

- CloudKit JS
- CloudKit.CKError
- isServerError

Instance Property

# isServerError

A Boolean value indicating whether a server error occurred.

CloudKit JS 1.0+

readonly attribute Boolean isServerError;

## Discussion

`true` if a server error occurred; otherwise, `false`.

## See Also

### Handling Errors

`isError`

A Boolean value indicating whether this is an error object.

`isCKError`

A Boolean value indicating whether this is a CloudKit error object.

`ckErrorCode`

The error code for this error.

`serverErrorCode`

The error code generated by the server.

`reason`

A description of the error that occurred.

`retryAfter`

The suggested time to wait before trying this operation again.

`uuid`

A unique identifier for this error.

`redirectURL`

A redirect URL for the user to securely sign in with the user’s Apple ID.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/servererrorcode

- CloudKit JS
- CloudKit.CKError
- serverErrorCode

Instance Property

# serverErrorCode

The error code generated by the server.

CloudKit JS 1.0+

readonly attribute String serverErrorCode;

## Discussion

Possible values are described in Error Codes in CloudKit Web Services Reference.

## See Also

### Handling Errors

`isError`

A Boolean value indicating whether this is an error object.

`isCKError`

A Boolean value indicating whether this is a CloudKit error object.

`ckErrorCode`

The error code for this error.

`isServerError`

A Boolean value indicating whether a server error occurred.

`reason`

A description of the error that occurred.

`retryAfter`

The suggested time to wait before trying this operation again.

`uuid`

A unique identifier for this error.

`redirectURL`

A redirect URL for the user to securely sign in with the user’s Apple ID.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/reason

- CloudKit JS
- CloudKit.CKError
- reason

Instance Property

# reason

A description of the error that occurred.

CloudKit JS 1.0+

readonly attribute String reason;

## Discussion

Possible values are described in Errors.

## See Also

### Handling Errors

`isError`

A Boolean value indicating whether this is an error object.

`isCKError`

A Boolean value indicating whether this is a CloudKit error object.

`ckErrorCode`

The error code for this error.

`isServerError`

A Boolean value indicating whether a server error occurred.

`serverErrorCode`

The error code generated by the server.

`retryAfter`

The suggested time to wait before trying this operation again.

`uuid`

A unique identifier for this error.

`redirectURL`

A redirect URL for the user to securely sign in with the user’s Apple ID.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/retryafter

- CloudKit JS
- CloudKit.CKError
- retryAfter

Instance Property

# retryAfter

The suggested time to wait before trying this operation again.

CloudKit JS 1.0+

readonly attribute Number retryAfter;

## Discussion

If this key is `null`, the operation can’t be retried.

## See Also

### Handling Errors

`isError`

A Boolean value indicating whether this is an error object.

`isCKError`

A Boolean value indicating whether this is a CloudKit error object.

`ckErrorCode`

The error code for this error.

`isServerError`

A Boolean value indicating whether a server error occurred.

`serverErrorCode`

The error code generated by the server.

`reason`

A description of the error that occurred.

`uuid`

A unique identifier for this error.

`redirectURL`

A redirect URL for the user to securely sign in with the user’s Apple ID.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/uuid

- CloudKit JS
- CloudKit.CKError
- uuid

Instance Property

# uuid

A unique identifier for this error.

CloudKit JS 1.0+

readonly attribute String uuid;

## See Also

### Handling Errors

`isError`

A Boolean value indicating whether this is an error object.

`isCKError`

A Boolean value indicating whether this is a CloudKit error object.

`ckErrorCode`

The error code for this error.

`isServerError`

A Boolean value indicating whether a server error occurred.

`serverErrorCode`

The error code generated by the server.

`reason`

A description of the error that occurred.

`retryAfter`

The suggested time to wait before trying this operation again.

`redirectURL`

A redirect URL for the user to securely sign in with the user’s Apple ID.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/redirecturl

- CloudKit JS
- CloudKit.CKError
- redirectURL

Instance Property

# redirectURL

A redirect URL for the user to securely sign in with the user’s Apple ID.

CloudKit JS 1.0+

readonly attribute String redirectURL;

## Discussion

Open this URL in a dialog or full-page redirect.

## See Also

### Handling Errors

`isError`

A Boolean value indicating whether this is an error object.

`isCKError`

A Boolean value indicating whether this is a CloudKit error object.

`ckErrorCode`

The error code for this error.

`isServerError`

A Boolean value indicating whether a server error occurred.

`serverErrorCode`

The error code generated by the server.

`reason`

A description of the error that occurred.

`retryAfter`

The suggested time to wait before trying this operation again.

`uuid`

A unique identifier for this error.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/recordname

- CloudKit JS
- CloudKit.CKError
- recordName

Instance Property

# recordName

The name of the record that the operation failed on.

CloudKit JS 1.0+

readonly attribute String recordName;

## Discussion

This property value is `Undefined` if the error is unrelated to a record operation.

## See Also

### Identifying the Operation

`subscriptionID`

A string that is a unique identifier for the subscription where the error occurred.

`zoneID`

The record zone in the database where the error occurred.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/subscriptionid

- CloudKit JS
- CloudKit.CKError
- subscriptionID

Instance Property

# subscriptionID

A string that is a unique identifier for the subscription where the error occurred.

CloudKit JS 1.0+

readonly attribute String subscriptionID;

## Discussion

This property value is `Undefined` if the error is unrelated to a subscription operation.

## See Also

### Identifying the Operation

`recordName`

The name of the record that the operation failed on.

`zoneID`

The record zone in the database where the error occurred.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/zoneid

- CloudKit JS
- CloudKit.CKError
- zoneID

Instance Property

# zoneID

The record zone in the database where the error occurred.

CloudKit JS 1.0+

readonly attribute `CloudKit.ZoneID` zoneID;

## Discussion

This property value is `Undefined` if the error is unrelated to a zone operation.

## See Also

### Identifying the Operation

`recordName`

The name of the record that the operation failed on.

`subscriptionID`

A string that is a unique identifier for the subscription where the error occurred.

---

# https://developer.apple.com/documentation/cloudkitjs/errors

Collection

- CloudKit JS
- CloudKit.CKError
- Errors

API Collection

# Errors

The errors that may occur when posting requests.

## Topics

### Constants

`ACCESS_DENIED`

You don’t have permission to access the endpoint, record, zone, or database.

`ATOMIC_ERROR`

An atomic batch operation failed.

`AUTH_PERSIST_ERROR`

`AUTHENTICATION_FAILED`

Authentication was rejected.

`AUTHENTICATION_REQUIRED`

The request requires authentication but none was provided.

`BAD_REQUEST`

The request was not valid.

`CONFIGURATION_ERROR`

CloudKit JS configuration error. For example, no containers are configured.

`CONFLICT`

The `recordChangeTag` value expired. (Retry the request with the latest tag.)

`EXISTS`

The resource that you attempted to create already exists.

`INTERNAL_ERROR`

An internal error occurred.

`INVALID_ARGUMENTS`

The parameters you provided for this method are invalid.

`NETWORK_ERROR`

A network error occurred, such as a connection time out.

`NOT_FOUND`

The resource was not found.

`QUOTA_EXCEEDED`

If accessing the public database, you exceeded the app’s quota. If accessing the private database, you exceeded the user’s iCloud quota.

`SERVICE_UNAVAILABLE`

The CloudKit service could not be reached.

`SHARE_UI_TIMEOUT`

The share UI failed to load and timed out.

`SIGN_IN_FAILED`

The user failed to sign in.

`THROTTLED`

The request was throttled. Try the request again later.

`TRY_AGAIN_LATER`

An internal error occurred. Try the request again.

`UNEXPECTED_SERVER_RESPONSE`

CloudKit JS was not able to decode the server response.

`UNIQUE_FIELD_ERROR`

The server rejected the request because there was a conflict with a unique field.

`UNKNOWN_ERROR`

An unknown error occurred. For example, if the server returns an error that is not recognized by the version of CloudKit JS you are using.

`VALIDATING_REFERENCE_ERROR`

The request violates a validating reference constraint.

`ZONE_NOT_FOUND`

The zone specified in the request was not found.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/iserror)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/isckerror)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/ckerrorcode)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/isservererror)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/servererrorcode)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/reason)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/retryafter)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/uuid)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/redirecturl)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/recordname)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/subscriptionid)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.ckerror/zoneid)



---

# https://developer.apple.com/documentation/cloudkitjs/errors)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/publicclouddatabase

- CloudKit JS
- CloudKit.Container
- publicCloudDatabase

Instance Property

# publicCloudDatabase

The database containing the data shared by all users.

CloudKit JS 1.0+

readonly attribute `CloudKit.Database` publicCloudDatabase;

## See Also

### Getting the Public and Private Databases

`privateCloudDatabase`

The database containing the user’s private data.

`sharedCloudDatabase`

The database containing shared records accepted by the current user.

`getDatabaseWithDatabaseScope`

Returns the specified (public, private, or shared) database.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/privateclouddatabase

- CloudKit JS
- CloudKit.Container
- privateCloudDatabase

Instance Property

# privateCloudDatabase

The database containing the user’s private data.

CloudKit JS 1.0+

readonly attribute `CloudKit.Database` privateCloudDatabase;

## See Also

### Getting the Public and Private Databases

`publicCloudDatabase`

The database containing the data shared by all users.

`sharedCloudDatabase`

The database containing shared records accepted by the current user.

`getDatabaseWithDatabaseScope`

Returns the specified (public, private, or shared) database.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/sharedclouddatabase

- CloudKit JS
- CloudKit.Container
- sharedCloudDatabase

Instance Property

# sharedCloudDatabase

The database containing shared records accepted by the current user.

CloudKit JS 1.0+

readonly attribute `CloudKit.Database` sharedCloudDatabase;

## Discussion

The shared database allows the current user (a participant) to access records shared by other users (owners). Shared records are stored in the owner’s container and count towards the owner’s iCloud account storage quota.

## See Also

### Getting the Public and Private Databases

`publicCloudDatabase`

The database containing the data shared by all users.

`privateCloudDatabase`

The database containing the user’s private data.

`getDatabaseWithDatabaseScope`

Returns the specified (public, private, or shared) database.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/getdatabasewithdatabasescope

- CloudKit JS
- CloudKit.Container
- getDatabaseWithDatabaseScope

Instance Method

# getDatabaseWithDatabaseScope

Returns the specified (public, private, or shared) database.

CloudKit JS 1.0+

`CloudKit.Database` getDatabaseWithDatabaseScope(
`CloudKit.DatabaseScope` databaseScope
);

## Parameters

`databaseScope`

Specifies the type of database to return.

## Return Value

The specified database.

## Discussion

This is a convenience method that you can use instead of the specific properties.

## See Also

### Getting the Public and Private Databases

`publicCloudDatabase`

The database containing the data shared by all users.

`privateCloudDatabase`

The database containing the user’s private data.

`sharedCloudDatabase`

The database containing shared records accepted by the current user.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/containeridentifier

- CloudKit JS
- CloudKit.Container
- containerIdentifier

Instance Property

# containerIdentifier

The string that identifies the app’s container.

CloudKit JS 1.0+

readonly attribute String containerIdentifier;

## See Also

### Getting the Identifier and Environment

`environment`

The container environment, either development or production.

`apnsEnvironment`

The Apple Push Notification service (APNs) environment associated with this container.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/environment

- CloudKit JS
- CloudKit.Container
- environment

Instance Property

# environment

The container environment, either development or production.

CloudKit JS 1.0+

attribute String environment;

## Discussion

Possible values are `CloudKit`. `DEVELOPMENT_ENVIRONMENT` and `CloudKit`. `PRODUCTION_ENVIRONMENT`.

## See Also

### Getting the Identifier and Environment

`containerIdentifier`

The string that identifies the app’s container.

`apnsEnvironment`

The Apple Push Notification service (APNs) environment associated with this container.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/apnsenvironment

- CloudKit JS
- CloudKit.Container
- apnsEnvironment

Instance Property

# apnsEnvironment

The Apple Push Notification service (APNs) environment associated with this container.

CloudKit JS 1.0+

attribute String apnsEnvironment;

## Discussion

Possible values are `CloudKit`. `DEVELOPMENT_ENVIRONMENT` and `CloudKit`. `PRODUCTION_ENVIRONMENT`.

## See Also

### Getting the Identifier and Environment

`containerIdentifier`

The string that identifies the app’s container.

`environment`

The container environment, either development or production.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/setupauth

- CloudKit JS
- CloudKit.Container
- setUpAuth

Instance Method

# setUpAuth

Determines whether a user is signed in and presents an appropriate sign in or sign out button.

CloudKit JS 1.0+

## Return Value

A `Promise` that resolves to a `CloudKit.UserIdentity` dictionary if an active CloudKit session was found; otherwise, `null`. If an error occurs, a `Promise` object that rejects to a `CKError` object.

## Discussion

Use the `setUpAuth` method to determine whether the user is authenticated and to display the appropriate button.

var myContainer = CloudKit.getDefaultContainer();

myContainer.setUpAuth().then(function(userIdentity) {
if(userIdentity) {
// The user is authenticated
}
});

In the function, use the `userRecordName` property to get the user record name from the `CloudKit.UserIdentity` parameter.

The `setUpAuth` method displays the appropriate buttons only if the required DOM elements are found. If the user is not signed in, the method displays a sign-in button; otherwise, it displays a sign-out button.

You can call this method multiple times. For example, call this method to determine if a previous CloudKit session is still valid, and call this method later to display the buttons after you add the required DOM elements.

## See Also

### Authenticating Users

`whenUserSignsIn`

Returns an object representing a deferred or asynchronous operation that resolves when the user signs in.

`whenUserSignsOut`

Returns an object representing a deferred or asynchronous operation that resolves when the user signs out.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/whenusersignsin

- CloudKit JS
- CloudKit.Container
- whenUserSignsIn

Instance Method

# whenUserSignsIn

Returns an object representing a deferred or asynchronous operation that resolves when the user signs in.

CloudKit JS 1.0+

## Return Value

A `Promise` object that resolves to a `CloudKit.UserIdentity` dictionary when the user signs in, or rejects to a `CKError` object.

## Discussion

Use the `whenUserSignsIn` method to call a function when the user signs in.

myContainer.whenUserSignsIn().then(function(userIdentity) {
// The user signed in
});

## See Also

### Authenticating Users

`setUpAuth`

Determines whether a user is signed in and presents an appropriate sign in or sign out button.

`whenUserSignsOut`

Returns an object representing a deferred or asynchronous operation that resolves when the user signs out.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/whenusersignsout

- CloudKit JS
- CloudKit.Container
- whenUserSignsOut

Instance Method

# whenUserSignsOut

Returns an object representing a deferred or asynchronous operation that resolves when the user signs out.

CloudKit JS 1.0+

## Return Value

A `Promise` object that resolves to `Undefined` when the user signs out, or rejects to a `CKError` object.

## Discussion

Use the `whenUserSignsOut` method to call a function when the user signs out.

myContainer.whenUserSignsOut().then(function() {
// The user signed out
});

## See Also

### Authenticating Users

`setUpAuth`

Determines whether a user is signed in and presents an appropriate sign in or sign out button.

`whenUserSignsIn`

Returns an object representing a deferred or asynchronous operation that resolves when the user signs in.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/fetchcurrentuseridentity

- CloudKit JS
- CloudKit.Container
- fetchCurrentUserIdentity

Instance Method

# fetchCurrentUserIdentity

Fetches information about the current user asynchronously.

CloudKit JS 1.0+

## Return Value

A `Promise` object that resolves to a `CloudKit.UserIdentity` dictionary if the current user is found, or rejects to a `CKError` object.

## Discussion

If the current user is discoverable, the `CloudKit.UserIdentity` dictionary contains a `nameComponents` key that you can use to get the user’s first and last name.

## See Also

### Discovering Users

`discoverAllUserIdentities`

Fetches all user identities in the current user’s address book.

`discoverUserIdentities`

Fetches all users in the specified array.

`discoverUserIdentityWithEmailAddress`

Fetches information about a single user based on the user’s email address.

`discoverUserIdentityWithPhoneNumber`

Fetches information about a single user based on the user’s phone number.

`discoverUserIdentityWithUserRecordName`

Fetches information about a single user using the record name.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/discoveralluseridentities



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/discoveruseridentities



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/discoveruseridentitywithemailaddress

- CloudKit JS
- CloudKit.Container
- discoverUserIdentityWithEmailAddress

Instance Method

# discoverUserIdentityWithEmailAddress

Fetches information about a single user based on the user’s email address.

CloudKit JS 1.0+

String emailAddress
);

## Parameters

`emailAddress`

The user’s email address.

## Return Value

A `Promise` object that resolves to `CloudKit.UserIdentitiesResponse` object, or rejects to a `CKError` object.

## Discussion

Use this method to get the ID of a user based on the user’s email address. The user must meet the following criteria:

- The user must be in the current user’s address book.

- The user must have run the app.

- The user must have granted the permission to be discovered for this container.

## See Also

### Discovering Users

`fetchCurrentUserIdentity`

Fetches information about the current user asynchronously.

`discoverAllUserIdentities`

Fetches all user identities in the current user’s address book.

`discoverUserIdentities`

Fetches all users in the specified array.

`discoverUserIdentityWithPhoneNumber`

Fetches information about a single user based on the user’s phone number.

`discoverUserIdentityWithUserRecordName`

Fetches information about a single user using the record name.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/discoveruseridentitywithphonenumber

- CloudKit JS
- CloudKit.Container
- discoverUserIdentityWithPhoneNumber

Instance Method

# discoverUserIdentityWithPhoneNumber

Fetches information about a single user based on the user’s phone number.

CloudKit JS 1.0+

String phoneNumber
);

## Parameters

`phoneNumber`

The user’s phone number.

## Return Value

A `Promise` object that resolves to `CloudKit.UserIdentitiesResponse` object, or rejects to a `CKError` object.

## Discussion

Use this method to get the ID of a user based on the user’s phone number. The user must meet the following criteria:

- The user must be in the current user’s address book.

- The user must have run the app.

- The user must have granted the permission to be discovered for this container.

## See Also

### Discovering Users

`fetchCurrentUserIdentity`

Fetches information about the current user asynchronously.

`discoverAllUserIdentities`

Fetches all user identities in the current user’s address book.

`discoverUserIdentities`

Fetches all users in the specified array.

`discoverUserIdentityWithEmailAddress`

Fetches information about a single user based on the user’s email address.

`discoverUserIdentityWithUserRecordName`

Fetches information about a single user using the record name.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/discoveruseridentitywithuserrecordname

- CloudKit JS
- CloudKit.Container
- discoverUserIdentityWithUserRecordName

Instance Method

# discoverUserIdentityWithUserRecordName

Fetches information about a single user using the record name.

CloudKit JS 1.0+

String userRecordName
);

## Parameters

`userRecordName`

The name of the user record.

## Return Value

A `Promise` object that resolves to `CloudKit.UserIdentitiesResponse` object, or rejects to a `CKError` object.

## Discussion

Use this method to retrieve information about a user for whom you have the corresponding `name` property of the `User` record. The user must meet the following criteria:

- The user must be in the current user’s address book.

- The user must have run the app.

- The user must have granted the permission to be discovered for this container.

## See Also

### Discovering Users

`fetchCurrentUserIdentity`

Fetches information about the current user asynchronously.

`discoverAllUserIdentities`

Fetches all user identities in the current user’s address book.

`discoverUserIdentities`

Fetches all users in the specified array.

`discoverUserIdentityWithEmailAddress`

Fetches information about a single user based on the user’s email address.

`discoverUserIdentityWithPhoneNumber`

Fetches information about a single user based on the user’s phone number.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/acceptshares

- CloudKit JS
- CloudKit.Container
- acceptShares

Instance Method

# acceptShares

Accepts a share—that is represented by a `shortGUID`—on behalf of the current user.

CloudKit JS 1.0+

String[] shortGUIDs
);

## Parameters

`shortGUIDs`

One or more short GUIDs that represent shared records.

## Return Value

A `Promise` object that resolves to a `CloudKit.RecordInfosResponse` object, or rejects to a `CKError` object.

## See Also

### Accepting Shared Records

`fetchRecordInfos`

Returns information about a record for which you have a `shortGUID` property.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/fetchrecordinfos

- CloudKit JS
- CloudKit.Container
- fetchRecordInfos

Instance Method

# fetchRecordInfos

Returns information about a record for which you have a `shortGUID` property.

CloudKit JS 1.0+

String[] shortGUIDs
);

## Parameters

`shortGUIDs`

One or more short GUIDs that represent records you want to fetch information about.

## Return Value

A `Promise` object that resolves to a `CloudKit.RecordInfosResponse` object, or rejects to a `CKError` object.

## Discussion

Use this method to show details about a record to a user before asking them to accept a share.

## See Also

### Accepting Shared Records

`acceptShares`

Accepts a share—that is represented by a `shortGUID`—on behalf of the current user.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/addnotificationlistener

- CloudKit JS
- CloudKit.Container
- addNotificationListener

Instance Method

# addNotificationListener

Adds a function to call when a push notification occurs.

CloudKit JS 1.0+

void addNotificationListener(
function listener
);

## Parameters

`listener`

The function to call when a push notification occurs. The function must have a single argument that is a `CloudKit.Notification` object.

## Discussion

To subscribe to changes and register for push notifications, see `saveSubscription` in the `CloudKit.Database` class.

## See Also

### Receiving Notifications

`removeNotificationListener`

Removes a function to call when a push notification occurs.

`registerForNotifications`

Registers to receive push notifications.

`unregisterForNotifications`

Unregisters to receive push notifications.

`isRegisteredForNotifications`

Boolean value indicating whether this container is registered to receive push notifications.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/removenotificationlistener

- CloudKit JS
- CloudKit.Container
- removeNotificationListener

Instance Method

# removeNotificationListener

Removes a function to call when a push notification occurs.

CloudKit JS 1.0+

void removeNotificationListener(
function listener
);

## See Also

### Receiving Notifications

`addNotificationListener`

Adds a function to call when a push notification occurs.

`registerForNotifications`

Registers to receive push notifications.

`unregisterForNotifications`

Unregisters to receive push notifications.

`isRegisteredForNotifications`

Boolean value indicating whether this container is registered to receive push notifications.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/registerfornotifications

- CloudKit JS
- CloudKit.Container
- registerForNotifications

Instance Method

# registerForNotifications

Registers to receive push notifications.

CloudKit JS 1.0+

void registerForNotifications();

## Discussion

To subscribe to changes and register for push notifications, see `saveSubscription` in the `CloudKit.Database` class.

## See Also

### Receiving Notifications

`addNotificationListener`

Adds a function to call when a push notification occurs.

`removeNotificationListener`

Removes a function to call when a push notification occurs.

`unregisterForNotifications`

Unregisters to receive push notifications.

`isRegisteredForNotifications`

Boolean value indicating whether this container is registered to receive push notifications.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/unregisterfornotifications

- CloudKit JS
- CloudKit.Container
- unregisterForNotifications

Instance Method

# unregisterForNotifications

Unregisters to receive push notifications.

CloudKit JS 1.0+

void unregisterForNotifications();

## See Also

### Receiving Notifications

`addNotificationListener`

Adds a function to call when a push notification occurs.

`removeNotificationListener`

Removes a function to call when a push notification occurs.

`registerForNotifications`

Registers to receive push notifications.

`isRegisteredForNotifications`

Boolean value indicating whether this container is registered to receive push notifications.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/isregisteredfornotifications



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/tostring

- CloudKit JS
- CloudKit.Container
- toString

Instance Method

# toString

Returns a string representation of this `CloudKit.Container` object.

CloudKit JS 1.0+

String toString();

## Return Value

A string representation of the container.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/publicclouddatabase)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/privateclouddatabase)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/sharedclouddatabase)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/getdatabasewithdatabasescope)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/containeridentifier)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/environment)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/apnsenvironment)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/setupauth)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/whenusersignsin)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/whenusersignsout)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/fetchcurrentuseridentity)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/discoveralluseridentities)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/discoveruseridentities)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/discoveruseridentitywithemailaddress)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/discoveruseridentitywithphonenumber)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/discoveruseridentitywithuserrecordname)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/acceptshares)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/fetchrecordinfos)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/addnotificationlistener)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/removenotificationlistener)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/registerfornotifications)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/unregisterfornotifications)

# The page you're looking for can't be found.

Search developer.apple.comSearch Icon

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/isregisteredfornotifications)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.container/tostring)



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.notification/containeridentifier



---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.notification/notificationid

- CloudKit JS
- CloudKit.Notification
- notificationID

Instance Property

# notificationID

A unique identifier for this notification.

CloudKit JS 1.0+

readonly attribute String notificationID;

## See Also

### Getting Identifiers

`containerIdentifier`

The identifier of the container that generated this notification.

`subscriptionID`

The identifier for the associated subscription.

`zoneID`

The identifier of the zone that this notification belongs to.

---

# https://developer.apple.com/documentation/cloudkitjs/cloudkit.notification/subscriptionid

- CloudKit JS
- CloudKit.Notification
- subscriptionID

Instance Property

# subscriptionID

The identifier for the associated subscription.

CloudKit JS 1.0+

readonly attribute String subscriptionID;

## See Also

### Getting Identifiers

`containerIdentifier`

The identifier of the container that generated this notification.

`notificationID`

A unique identifier for this notification.

`zoneID`

The identifier of the zone that this notification belongs to.

---

